
<section class="widget has-divider">
    <h3 class="title">Upcoming Events</h3>
    <article id="event-items-list" class="events-item row page-row"></article>
    @*@foreach (var item in Model)
    {
        <article class="events-item row page-row">
            <div class="date-label-wrapper col-md-3 col-sm-4 col-xs-4">
                <p class="date-label">
                    <span class="month">@item.StartDate.GetValueOrDefault().Month.ToString().Substring(0, 3).ToUpper()</span>
                    <span class="date-number">@item.StartDate.GetValueOrDefault().Day</span>
                </p>
            </div><!--//date-label-wrapper-->
            <div class="details col-md-9 col-sm-8 col-xs-8">
                <h5 class="title">@item.Title</h5>
                <p class="time text-muted">@item.StartDate.GetValueOrDefault().Hour am - @item.StartDate.GetValueOrDefault().Hour + 2 pm<br>@item.Location</p>
            </div><!--//details-->
        </article>
    }*@
</section>

<script type="text/javascript">
    //debugger;
    $.ajax({
        type: "GET",
        contentType: "application/json; charset=utf-8",
        url: "/FrontEnd/Home/GetEvents/",
        data: "{}",
        dataType: "json",
        success: function (data) {
            debugger;
            $.each(data, function(index, item) {
                //debugger;
                //now you can access properties using dot notation
                $('#event-items-list').append(
                    '<article class="events-item page-row has-divider clearfix">' +
                    '<div class="date-label-wrapper col-md-1 col-sm-2">' +
                    '<p class="date-label">' +
                    '<span class="month">'+ GetMonth(new Date(parseInt(item.StartDate.substr(6)))) +'</span>' +
                    '<span class="date-number">'+GetDay(new Date(parseInt(item.StartDate.substr(6))))+'</span>' +
                    '</p>' +
                    '</div><!--//date-label-wrapper-->' +
                    '<div class="details col-md-11 col-sm-10">' +
                    '<h3 class="title">' + item.Title + '</h3>' +
                    '<p class="meta"><span class="time"><i class="fa fa-clock-o"></i>' +
                    (new Date(parseInt(item.StartDate.substr(6)))).getHours() + 'am - ' + (new Date(parseInt(item.StartDate.substr(6)))).getHours() + 2 + 'pm' +
                    '</span>' +
                    '<span class="location"><i class="fa fa-map-marker"></i><a href="#">' + item.Location +'</a></span></p>' +
                    '<p class="desc">'+ item.Description +'</p>' +
                    '</div><!--//details-->' +
                    '</article>');
            });
        },
        error: function(xhr, err) {
            debugger;
            alert("readyState: " + xhr.readyState + "\nstatus: " + xhr.status);
            alert("responseText: " + xhr.responseText);
        }
    });

    function GetMonth(d) {
        //debugger;
        var month = new Array();
        month[0] = "January";
        month[1] = "February";
        month[2] = "March";
        month[3] = "April";
        month[4] = "May";
        month[5] = "June";
        month[6] = "July";
        month[7] = "August";
        month[8] = "September";
        month[9] = "October";
        month[10] = "November";
        month[11] = "December";
        return month[d.getMonth()];
    }

    function GetDay(d) {
        //debugger;
        var weekday = new Array(7);
        weekday[0] = "Sunday";
        weekday[1] = "Monday";
        weekday[2] = "Tuesday";
        weekday[3] = "Wednesday";
        weekday[4] = "Thursday";
        weekday[5] = "Friday";
        weekday[6] = "Saturday";

        return weekday[d.getDay()];
    }
</script>